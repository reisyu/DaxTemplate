{
  "name": "Demo Date Template",
  "definition": {
    // Reference FY prefix format in DAX expression using the syntax @_FY_@ 
    "formatPrefixes": [ "Q", "FY", "FQ" ],
    "globalVariables": [
      {
        "name": "__FirstFiscalMonth",
        "expression": "7"
      },
      {
        "name": "__FirstDayOfWeek",
        "expression": "0"
      }
    ],
    "rowVariables": [
      {
        "name": "__YearNumber",
        "expression": "YEAR ( __Date )"
      },
      {
        "name": "__MonthNumber",
        "expression": "MONTH ( __Date )"
      },
      {
        "name": "__QuarterNumber",
        "expression": "QUARTER ( __Date )"
      },
      {
        "name": "__MonthNumberQ",
        "expression": "__MonthNumber - 3 * (__QuarterNumber - 1)"
      },
      {
        "name": "__WeekdayNumber",
        "expression": "WEEKDAY ( __Date, 1 ) - 1"
      },
      {
        "name": "__FiscalYearNumber",
        "expression": "__YearNumber + 1 * ( __FirstFiscalMonth > 1 && __MonthNumber >= __FirstFiscalMonth )"
      },
      {
        "name": "__FiscalQuarterNumber",
        "expression": "FORMAT ( EOMONTH ( __Date, 1 - __FirstFiscalMonth ), \"@_FQ_@Q\" )"
      }
    ],
    "columns": [
      {
        "Name": "Year",
        "Expression": "DATE(__YearNumber, 12, 31)",
        "DataType": "DateTime",
        "FormatString": "yyyy"
      },
      {
        "Name": "Year Quarter Date",
        "Expression": "EOMONTH( __Date, 3 - __MonthNumberQ )",
        "DataType": "DateTime",
        "FormatString": "m/dd/yyyy",
        "IsHidden": true
      },
      {
        "Name": "Year Quarter",
        "Expression": "FORMAT( __Date, \\\"@_Q_@Q-YYYY\\\")\"", // TODO Add FORMAT argument for localization
        "DataType": "String",
        "SortByColumn":  "Year Quarter Date"
      },
      {
        "Name": "Quarter",
        "Expression": "FORMAT( __Date, \\\"@_Q_@Q\\\" )\"",
        "DataType" : "String"
      },
      {
        // Use this version for end-of-month
        // Name : "Year Month", Expression = @"EOMONTH( _Date, 0 )", DataType = DataType.DateTime, Dependencies = new IDependencies<DaxBase>[]  { _Date } };
        // Use this version for beginning-of-month
        "Name": "Year Month",
        "Expression": "EOMONTH( __Date, -1 ) + 1",
        "DataType": "DateTime",
        "FormatString": "mmm yyyy"
      },
      {
        "Name": "Month",
        "Expression": "DATE(1900, MONTH( __Date ), 1 )",
        "DataType": "DateTime",
        "FormatString": "mmm"
      },
      {
        "Name": "Day of Week",
        "Expression": "DATE(1900, 1, 7 + __WeekdayNumber + (7 * (__WeekdayNumber < __FirstDayOfWeek)))",
        "DataType": "DateTime",
        "FormatString": "ddd"
      },
      {
        "Name": "Fiscal Year",
        "Expression": "DATE(__FiscalYearNumber + (__FirstFiscalMonth = 1), __FirstFiscalMonth, 1) - 1",
        "DataType": "DateTime",
        "FormatString": "@_FY_@ yyyy\"",
        "DisplayFolder": "Fiscal"
      },
      {
        "Name": "Fiscal Year Quarter",
        "Expression": "__FiscalQuarterNumber & \"\"-\"\" & __FiscalYearNumber\"",
        "DataType": "String",
        "DisplayFolder": "Fiscal"
      },
      {
        "Name": "Fiscal Year Quarter Date",
        "Expression": "EOMONTH( __Date, 3 - __MonthNumberQ )",
        "DataType" : "DateTime",
        "FormatString": "m/dd/yyyy",
        "IsHidden" : true,
        "DisplayFolder": "Fiscal"
      },
      {
        "Name": "Fiscal Quarter",
        "Expression": "__FiscalQuarterNumber\"",
        "DataType": "String",
        "DisplayFolder": "Fiscal",
        "SortByColumn": "Fiscal Year Quarter Date"
      },
      {
        "Name": "TestColumnDependency",
        "Expression" : "[Fiscal Quarter]",
        "DataType" : "String",
        "DisplayFolder": "Fiscal"
      }
    ],
    "hierarchies": [
      {
        "Name": "Calendar",
        "Levels": [
          {
            "Name": "Year",
            "Column": "Year"
          },
          {
            "Name": "Month",
            "Column": "Year Month"
          },
          {
            "Name": "Date",
            "Column": "Year"
          }
        ]
      },
      {
        "Name": "Fiscal",
        "Levels": [
          {
            "Name": "Fiscal Year",
            "Column": "Year"
          },
          {
            "Name": "Month",
            "Column": "Year Month"
          },
          {
            "Name": "Date",
            "Column": "Year"
          }
        ]
      }
    ]
  },
  "config": {
    "OnlyTablesColumns": [
      "Sales",
      "Orders"
    ],
    "ExceptTablesColumns": [],
    "FirstYearMin": null,
    "FirstYearMax": null,
    "LastYearMin": null,
    "LastYearMax": null,
    "AutoScan": "Disabled"
  }
}